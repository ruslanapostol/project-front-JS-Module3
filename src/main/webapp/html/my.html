<html>
<head>
    <title>RPG</title>
    <script src=https://code.jquery.com/jquery-3.6.0.min.js></script>
    <link href="/css/my.css" rel="stylesheet">
</head>
<body>
<h1>RPG admin panel</h1>
<table id="rpgTable">
    <thead>
    <tr>
        <th>#</th>
        <th>Name</th>
        <th>Title</th>
        <th>Race</th>
        <th>Profession</th>
        <th>Level</th>
        <th>Birthday</th>
        <th>Banned</th>
    </tr>
    </thead>
    <tbody>
    <!-- Data rows will go here -->
    </tbody>
</table>
<script>
    // Function to fetch players and add them to the table
    function fetchPlayers() {
        fetch('/rest/players')
            .then(response => response.json())
            .then(players => {
                const table = document.getElementById('rpgTable').getElementsByTagName('tbody')[0];
                players.forEach((player, index) => {
                    const row = table.insertRow();
                    const cell1 = row.insertCell(0);
                    const cell2 = row.insertCell(1);
                    const cell3 = row.insertCell(2);
                    const cell4 = row.insertCell(3);
                    const cell5 = row.insertCell(4);
                    const cell6 = row.insertCell(5);
                    const cell7 = row.insertCell(6);
                    const cell8 = row.insertCell(7);
                    cell1.innerHTML = index + 1;
                    cell2.innerHTML = player.name;
                    cell3.innerHTML = player.title;
                    cell4.innerHTML = player.race;
                    cell5.innerHTML = player.profession;
                    cell6.innerHTML = player.level;
                    cell7.innerHTML = new Date(player.birthday).toLocaleDateString();
                    cell8.innerHTML = player.banned ? 'Yes' : 'No';
                });
            })
            .catch(error => console.error('Error fetching players:', error));
    }

    // Call the function when the window loads
    window.onload = fetchPlayers;
</script>

</body>
</html>